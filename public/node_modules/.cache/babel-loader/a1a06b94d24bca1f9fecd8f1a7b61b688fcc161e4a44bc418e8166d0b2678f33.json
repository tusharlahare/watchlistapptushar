{"ast":null,"code":"// import React, { createContext, useReducer, useEffect } from \"react\";\n// import AppReducer from \"./AppReducer\";\n// // initial  state\n// const initialState = {\n//   watchlist: localStorage.getItem(\"watchlist\")\n//     ? JSON.parse(localStorage.getItem(\"watchlist\"))\n//     : [],\n//     watched: localStorage.getItem(\"watched\")\n//     ? JSON.parse(localStorage.getItem(\"watched\"))\n//     : [],\n// };\n\n// // create context\n\n// export const GlobalContext = createContext(initialState);\n\n// // provider components\n// export const GlobalProvider = (props) => {\n//   const [state, dispatch] = useReducer(AppReducer, initialState);\n//   // localstorage\n//   useEffect(() => {\n//     localStorage.setItem(\"watchlist\", JSON.stringify(state.watchlist));\n//     localStorage.setItem(\"watched\", JSON.stringify(state.watched));\n//   }, [state]);\n\n//   // action\n//   const addMovieToWatchlist = (movie) => {\n//     dispatch({ type: \"ADD_MOVIE_TO_WATCHLIST\", payload: movie });\n//   };\n\n//   return (\n//     <GlobalContext.Provider\n//       value={{\n//         watchlist: state.watchlist,\n//         watched: state.watched,\n//         addMovieToWatchlist,\n//       }}\n//     >\n//       {props.children}\n//     </GlobalContext.Provider>\n//   );\n// };\n\n// import React, { createContext, useReducer, useEffect } from \"react\";\n// import AppReducer from \"./AppReducer\";\n// import {removeMoviefromWatchlist}\n\n// // Helper function to safely parse JSON\n// const safeJSONparse = (value) => {\n//   try {\n//     return JSON.parse(value);\n//   } catch (error) {\n//     return null; // Return null if parsing fails\n//   }\n// };\n\n// // Initial state\n// const initialState = {\n//   watchlist: safeJSONParse(localStorage.getItem(\"watchlist\")) || [], // Fallback to empty array if parsing fails or returns null\n//   watched: safeJSONParse(localStorage.getItem(\"watched\")) || [],    // Same for watched\n// };\n\n// // Create context\n// export const GlobalContext = createContext(initialState);\n\n// // Provider component\n// export const GlobalProvider = (props) => {\n//   const [state, dispatch] = useReducer(AppReducer, initialState);\n\n//   // Sync localStorage with state\n//   useEffect(() => {\n//     localStorage.setItem(\"watchlist\", JSON.stringify(state.watchlist));\n//     localStorage.setItem(\"watched\", JSON.stringify(state.watched));\n//   }, [state]);\n\n//   // Actions\n//   const addMovieToWatchlist = (movie) => {\n//     dispatch({ type: \"ADD_MOVIE_TO_WATCHLIST\", payload: movie });\n//   };\n\n//    // Action to remove a movie from the watchlist\n// const removeMoviefromWatchlist = (id) => {\n//     dispatch({ type: 'REMOVE_MOVIE_FROM_WATCHLIST', payload: id });\n//   };\n\n//   return (\n//     <GlobalContext.Provider\n//       value={{\n//         watchlist: state.watchlist,\n//         watched: state.watched,\n//         addMovieToWatchlist,\n//         removeMovieFromWatchlist,\n//       }}\n//     >\n//       {props.children}\n//     </GlobalContext.Provider>\n//   );\n// };","map":{"version":3,"names":[],"sources":["C:/Users/Dell/OneDrive/Desktop/watchListApp/watchlist/src/context/GlobalState.js"],"sourcesContent":["// import React, { createContext, useReducer, useEffect } from \"react\";\r\n// import AppReducer from \"./AppReducer\";\r\n// // initial  state\r\n// const initialState = {\r\n//   watchlist: localStorage.getItem(\"watchlist\")\r\n//     ? JSON.parse(localStorage.getItem(\"watchlist\"))\r\n//     : [],\r\n//     watched: localStorage.getItem(\"watched\")\r\n//     ? JSON.parse(localStorage.getItem(\"watched\"))\r\n//     : [],\r\n// };\r\n\r\n// // create context\r\n\r\n// export const GlobalContext = createContext(initialState);\r\n\r\n// // provider components\r\n// export const GlobalProvider = (props) => {\r\n//   const [state, dispatch] = useReducer(AppReducer, initialState);\r\n//   // localstorage\r\n//   useEffect(() => {\r\n//     localStorage.setItem(\"watchlist\", JSON.stringify(state.watchlist));\r\n//     localStorage.setItem(\"watched\", JSON.stringify(state.watched));\r\n//   }, [state]);\r\n\r\n//   // action\r\n//   const addMovieToWatchlist = (movie) => {\r\n//     dispatch({ type: \"ADD_MOVIE_TO_WATCHLIST\", payload: movie });\r\n//   };\r\n\r\n//   return (\r\n//     <GlobalContext.Provider\r\n//       value={{\r\n//         watchlist: state.watchlist,\r\n//         watched: state.watched,\r\n//         addMovieToWatchlist,\r\n//       }}\r\n//     >\r\n//       {props.children}\r\n//     </GlobalContext.Provider>\r\n//   );\r\n// };\r\n\r\n\r\n\r\n\r\n\r\n// import React, { createContext, useReducer, useEffect } from \"react\";\r\n// import AppReducer from \"./AppReducer\";\r\n// import {removeMoviefromWatchlist}\r\n\r\n// // Helper function to safely parse JSON\r\n// const safeJSONparse = (value) => {\r\n//   try {\r\n//     return JSON.parse(value);\r\n//   } catch (error) {\r\n//     return null; // Return null if parsing fails\r\n//   }\r\n// };\r\n\r\n// // Initial state\r\n// const initialState = {\r\n//   watchlist: safeJSONParse(localStorage.getItem(\"watchlist\")) || [], // Fallback to empty array if parsing fails or returns null\r\n//   watched: safeJSONParse(localStorage.getItem(\"watched\")) || [],    // Same for watched\r\n// };\r\n\r\n// // Create context\r\n// export const GlobalContext = createContext(initialState);\r\n\r\n// // Provider component\r\n// export const GlobalProvider = (props) => {\r\n//   const [state, dispatch] = useReducer(AppReducer, initialState);\r\n\r\n//   // Sync localStorage with state\r\n//   useEffect(() => {\r\n//     localStorage.setItem(\"watchlist\", JSON.stringify(state.watchlist));\r\n//     localStorage.setItem(\"watched\", JSON.stringify(state.watched));\r\n//   }, [state]);\r\n\r\n//   // Actions\r\n//   const addMovieToWatchlist = (movie) => {\r\n//     dispatch({ type: \"ADD_MOVIE_TO_WATCHLIST\", payload: movie });\r\n//   };\r\n\r\n//    // Action to remove a movie from the watchlist\r\n// const removeMoviefromWatchlist = (id) => {\r\n//     dispatch({ type: 'REMOVE_MOVIE_FROM_WATCHLIST', payload: id });\r\n//   };\r\n  \r\n\r\n//   return (\r\n//     <GlobalContext.Provider\r\n//       value={{\r\n//         watchlist: state.watchlist,\r\n//         watched: state.watched,\r\n//         addMovieToWatchlist,\r\n//         removeMovieFromWatchlist,\r\n//       }}\r\n//     >\r\n//       {props.children}\r\n//     </GlobalContext.Provider>\r\n//   );\r\n// };\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAMA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}